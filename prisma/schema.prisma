generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum JobStatus {
  queued
  processing
  completed
  failed
}

enum MotionPreset {
  slow_zoom
  pan_lr
  push_in_light
}

model Job {
  id           String       @id @default(uuid())
  status       JobStatus    @default(queued)
  preset       MotionPreset
  inputKey     String
  inputUrl     String
  outputKey    String?
  outputUrl    String?
  errorMessage String?
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt

  @@index([status, createdAt])
}
